{% extends 'chefcitoapp/menu.html' %}

{% block title %} Agregar receta {% endblock %}

{%block content %}
       <div class="container" style="margin-top: 2em">
            <div id="encabezado" class="row">
                <div  class="col-8">
                <!-- Encabezado de la página-->
                   <h1>Agregar receta</h1>
                   <hr>
               <!-- Fin encabezado -->
                </div>
                <div class="col">
                    {% if  user.is_authenticated %}
                        <h2>Usuaria: {{ user.apodo }}</h2>
                    {% endif %}

                </div>
            </div>
           <div id="segunda-parte" >
               {% if user.is_authenticated %}
                    <form action="" method="post">
                        {% csrf_token %} <!-- csrf token for basic security -->
                        <div class="card" id="nueva-receta">
                            <div class="card-header">
                                    Nueva Receta
                            </div>
                            <div class="card-body">
                                    <div class="form-group">
                                    <label for="receta_nombre">Nombre de la receta </label>
                                    <input type="text" id="receta_nombre" class="form-control" placeholder="¿Qué receta agregarás?" name="receta_nombre" required="required">
                                </div>
                                <div class="form-group">
                                    <label for="preparacion">Preparación</label>
                                    <textarea  id="preparacion" class="form-control" placeholder="Describa la preparación de la receta" name="preparacion" required="required" rows="6"></textarea>
                                </div>
                                <div class="form-group">
                                        <label for="duracion">Tiempo</label>
                                        <input type="number"  id="duracion" class="form-control" placeholder="Tiempo de preparación en minutos" name="duracion" required="required"></input>
                                </div>
                                <div class="form-group">
                                        <label for="descripcion">Descripción</label>
                                        <textarea  id="descripcion" class="form-control" placeholder="Agrega un comentario sobre la receta" name="descripcion" rows="4"></textarea>
                                </div>
                                <div class="form-group">
                                        <label for="ingrediente1">Ingredientes</label>
                                        <select id="ingrediente1"  class="form-control" name="ingredientes[]">
                                            <option class="disabled" value="">Elige un ingrediente</option>
                                            {% for ingrediente in ingredientes %}
                                                <option class="" value="{{ ingrediente.ingrediente_nombre }}" name="{{ ingrediente.nombre }}">{{ ingrediente.nombre }}</option>
                                            {% endfor %}
                                        </select>
                                        <select id="ingrediente2"  class="form-control" name="ingredientes[]">
                                            <option class="disabled" value="">Elige un ingrediente</option>
                                            {% for ingrediente in ingredientes %}
                                                <option class="" value="{{ ingrediente.ingrediente_nombre }}" name="{{ ingrediente.nombre }}">{{ ingrediente.nombre }}</option>
                                            {% endfor %}
                                        </select>
                                        <select id="ingrediente3"  class="form-control" name="ingredientes[]">
                                            <option class="disabled" value="">Elige un ingrediente</option>
                                            {% for ingrediente in ingredientes %}
                                                <option class="" value="{{ ingrediente.ingrediente_nombre }}" name="{{ ingrediente.nombre }}">{{ ingrediente.nombre }}</option>
                                            {% endfor %}
                                        </select>
                                        <div id="ingrediente4"></div>
                                </div>
                                <div> 
                                    <!--crear js para esto-->
                                    <button type="button" onclick="otroIngre()"> Más ingredientes</button>
                                </div>
                                <div class="form-group">
                                    <p>Si tu ingrediente no existe, agregalo</p>
                                    <!--como hago esto??-->
                                </div>

                                <div class="form-group">
                                    <label for="receta-foto">Imagen de la receta</label>
                                    <input type="file"  id="receta_foto" class="form-control" placeholder="Agrega una imagen" name="receta_foto" accept="image/*"></input>
                                </div>

                                <div id="botones">
                                    <button class="btn btn-primary" name="recetaAdd" type="submit"><i class="fa fa-plus icon"></i>Guardar receta</button>
                                </div>
                                    
                                </div>
                        </div>
                        
                    </form>
                {% else  %}
                    <div class="card-header">
                        Necesitas iniciar sesión para publicar una receta.
                    </div>
                {% endif  %}
           </div> <!-- div segunda parte -->
       </div><!-- container -->


{% endblock %}